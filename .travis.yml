dist: xenial
language: python
python:
- 3.8
env:
  global:
  - secure: qcgKpHMdch2JuEMooieW0jZbqRs9vhhGzUWWmwJVO5J0oiEtoksvOFcwAApsSdmrJYJcFQ1zdrolaue0am8gmlphZ3Qmq+Y9DjQy8ZRoeWrjuBHCUOixOuRLKvCe0LW7PPhWmJb0g0/RlrqsrQqrG+i4bwBFSdEMkc/XRiq8ACOSYaIors9pO7+ZxFHjlmKCbu74rpfQHZ/t9OBnCNrLBsOagD4TwzzVqldkE1cwd6tqeJ1/38WKca0N8IQJu0H6OkHknSZS8xK7TkhJKBSR6bYfrJuPXHP2VZUqOU5SyJm7yperKhy2p6YsLmAb8icnnNo3nuyhEjHNNeu1C3ZjwRlDXYYdse78QP64LfgOaA6Z1JA0j2Mz1co+Hyus3sATaEwvz95Z/ZZqZgAyV2RgZgTUizOe4DqVxVvOE3d8CDsSIx1E7U17uRwMZJoX3+yYsqMSUgaX6QteTuDi+LyB1EggrhGRTKnnID+mNtdIfg9G+x0iw3K7wNqktlbPXvUbUzlk963ceI10InYrf/LJQFUaLNkBt4jF6cMn4+3aH/a6l2PqhzC/6Uub7cMLU+fjoANZa3VWZiYWKEbcZY4saUFvpQvL2kJ8v1/vxlH6IEYxAld63UzrZevfGGWL9XQdyNN9PM2WUuk9Jxg/NN34ZPNe7AxR5nESy4m7pPWoFxQ=
  - secure: dedzH8QfGtI3FBK0d7CXegKZIBH+l/4NpHz3eWWu0vYnMligppLZ04OXczTvXJY4dz81U1VH0tdEBq7ryaI78xNTj4OuW3rnNI+yC+7qOJ5BMI1bN80ZaudfaISr5gTn7W8l0qE8ToANc84cSe1XgmCs+l36fuhCwTv5B+9g13eM0/LIVm23p4d174nCu1MB3gK7yGQl2y2dNCX7c4PSdfI32vigT2AMZMn1+jazIbOijrLrmfTDppjPdUmU3MCNn88L+hpXI+Q4+3o89h0Fl+oJ7VtoKFqR3t83boME6Gq4NhX5bHuU5/bLNEMhLNhPl91Qvj5HoKN1jjQLHTSN1/UCSj8lnGLn3JPEAJm6bKRnIBhl36som7Vh5kr/TxQkiAZvohhgvPS+ID8kcmwWjYJQcvonpyZVCARgS+Vgvc/oJMSIdMgzC7J0pZR8MwGTwIef9je/AvThqwWzRvAVeGtOk8P3sloqRYzqF7KvKt2lpvFwSLFyJHlNdGSjfAy42VGDOLhRIZoSVW1GngqNjhwT9BfOMU10fwcuyguX6aCIwNQ3M9ZUIDyIAdiS62RzeA7jgCoDZBTKvkUIE1Yg4jHT/Xu/lO1eDPRt3iRncPaf/EW9GaCtxgMXwZcR3aI8xngQ8I1GguTqJDd+4KsN/9MAMKIsBZfYKiqmYQMUzi4=
before_install:
- pip install --upgrade pip
- pip install poetry
install:
- poetry install
script: make test
deploy:
  provider: heroku
  api_key:
    secure: w3JtTBBqI/GSw10bEqwmo7KsZQY7qjKCf03fFV2T/Cv5KNXtnyToX0bNRnFDWZgm+Fn61hBv+VucfvLVza7ZxDDCAWKSMXpumGkZ01qWxusa5m75pZ4ymq58FMJ6y7R5RK1ytLM+6PCu1eEx6S2lpotzlXBe1F5shpIGB8VrB4a7Vd44niKEkPcokzpbMrqapOIcCTQg0lem8cuBtcKEDMHmjYOCb50HQw6R62xySQL2+xq6NGn9nEWuREe2g1XS0KWo88BS+ikNPRU7NYvfl1kuPUdkWaWhgjZ/V/CRpUq2QCxwiQx6+p9DAUckYxgGW1XIX2izIJNTzi8MEWGLL7mBefm6zLwoBI7d8H3twePKNFZKr3c2RQvuLvg9wMbctzoz7votem2n2fG0WXUOTNhTAs1fpbBvwxo1hUsdCU4jh3U9U+LPFh/ws0E61e9cp6NR3941OC07H5YGHy62dT6GRcX3IcCsthrw144v5kuke/LbhBR2Zi17Lsdft4qEbCIG8yDkPh1sac1Zc9ACrw7l1+00f5v4Hu5rWS7qGwcfTJ2AsiMG6dcx4CVh89jbwpb22Z3sQqwjBKB8TrXncBP5/Gn7tTO4DZquKfS0q6tDICiDz0Ap9vAuXGNImsNn7PTkgZfkqviixs2BQ6UdA6JFSUUx90eqeH+Fvoc/RdU=
  app:
    master: dash-covid19-pro
    staging: dash-covid19-stage
  strategy: git
  on:
    all_branches: true
    python: 3.8
after_success:
- codecov
